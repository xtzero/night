(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-45979ec8"],{2182:function(e,a,s){},"7f7f":function(e,a,s){var t=s("86cc").f,n=Function.prototype,o=/^\s*function ([^ (]*)/,r="name";r in n||s("9e1e")&&t(n,r,{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(e){return""}}})},9230:function(e,a,s){"use strict";var t=s("2182"),n=s.n(t);n.a},a55b:function(e,a,s){"use strict";s.r(a);var t=function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("el-container",{directives:[{name:"loading",rawName:"v-loading",value:e.screenLoading,expression:"screenLoading"}],staticClass:"login-body"},[s("el-main",[s("div",{},[s("h1",[e._v("欢迎加入！")]),s("p",[e._v("这是一个睡前互动社区，你只需要加入即可。 "),s("br"),e._v(" 试着放松，首先请...")]),s("el-form",{attrs:{"label-width":"0px"}},[s("el-form-item",[s("el-input",{attrs:{placeholder:"给自己起个名字，大家都会这样称呼你"},model:{value:e.name,callback:function(a){e.name=a},expression:"name"}})],1),s("p",[e._v("这个名字不是永久的，所以你不需要小心翼翼")]),s("p",[e._v("然后... ")]),s("el-form-item",[s("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("加入我们")])],1),s("p",[e._v("如果你想永久保留这个名字，我们建议你")]),s("p",{directives:[{name:"show",rawName:"v-show",value:!e.usepassword,expression:"!usepassword"}]},[s("el-checkbox",{model:{value:e.usepassword,callback:function(a){e.usepassword=a},expression:"usepassword"}},[e._v("使用转生口令")])],1),e.usepassword?s("el-form-item",[s("el-input",{attrs:{type:"password",placeholder:"转生口令"},model:{value:e.password,callback:function(a){e.password=a},expression:"password"}})],1):e._e(),s("p",{directives:[{name:"show",rawName:"v-show",value:e.usepassword,expression:"usepassword"}]},[e._v("转生口令会在账号失效的时候起到作用，让你能继续使用这个账号。")])],1)],1)])],1)},n=[],o=(s("7f7f"),{name:"Login",data:function(){return{name:"",password:"",usepassword:!1,screenLoading:!1}},mounted:function(){document.title="欢迎加入！";var e=localStorage.getItem("userid.night.xtzero.me");e&&this.$router.push("/")},methods:{onSubmit:function(){var e=this;if(!this.name)return this.$message({type:"error",message:"请至少告诉大家你叫什么吧？"}),!1;this.screenLoading=!0,this.$utils.ajax("addUser",{name:this.name,password:this.password?this.password:this.$utils.rand(1e7,99999999)}).then(function(a){e.screenLoading=!1,200===a.data.code?(localStorage.setItem("userid.night.xtzero.me",a.data.data.id),localStorage.setItem("name.night.xtzero.me",a.data.data.name),e.$store.state.user.id=a.data.data.id,e.$store.state.user.name=a.data.data.name,e.$router.push("/")):e.$message({type:"error",message:a.data.msg})}).catch(function(a){e.screenLoading=!1,e.$message({type:"error",message:"登录时出现了问题"}),console.log(a)})}}}),r=o,i=(s("9230"),s("2877")),d=Object(i["a"])(r,t,n,!1,null,"3dfb8258",null);a["default"]=d.exports}}]);
//# sourceMappingURL=chunk-45979ec8.640e7ff1.js.map